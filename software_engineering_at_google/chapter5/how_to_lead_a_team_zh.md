# Chapter 5 如何带领一个团队

​	到目前为止，我们已经讨论了编写软件的团队的文化和组成。在这一章中，我们将看一看最终负责让它们运行起来的人。

​	没有领导者，任何团队都不能很好地运作，尤其是在谷歌，工程几乎完全是团队的努力。在谷歌，我们认识到两种不同的领导角色。经理是员工的领导者，而技术主管领导技术工作。虽然这两个角色的职责需要相似的规划技能，但他们需要截然不同的个人技能。

​	一艘没有船长的船只不过是一个漂浮的等候室:除非有人抓住船舵并启动引擎，否则它只会漫无目的地随波逐流。一个软件就像那艘船:如果没有人驾驶它，你就剩下一群工程师在浪费宝贵的时间，只是坐在那里等待一些事情发生(或者更糟糕的是，仍然编写那些没有价值的代码)。虽然这一章是关于人员管理和技术领导的，但如果你是个开发者，它仍然值得一读，因为它可能会帮助你更好地理解自己的领导。



## 经理和技术主管

​	虽然每个开发团队通常都有一个领导者，但他们以不同的方式发现这些领导者。这在谷歌毫无疑问是真实的。有时，一个有经验的经理空降来管理一个团队，有时一个开发者被提升到领导职位(通常是来自于一个较小的团队)。

​	在新生的团队中，两个角色有时会由同一个人担任:技术主管经理(TLM)。在较大的团队中，一名经验丰富的人事经理将接替人事管理的角色，而一名经验丰富的高级工程师将接替技术主管的角色。尽管经理和技术主管都在工程团队的成长和产出中发挥着重要作用，但在这两个角色中取得成功所需的个人技能却大相径庭。



## 工程经理（The Engineering Manager）

​	许多公司会引入训练有素的人事经理来管理他们的工程团队，这些人可能对软件工程知之甚少或一无所知。然而，谷歌很早就决定，所有的软件工程经理应该有一个工程背景。这意味着谷歌会雇佣曾经是软件工程师的有经验的经理，或者培训软件工程师成为经理(稍后将详细介绍)。

​	宏观上来说，工程经理负责团队中每个人(包括他们的技术主管)的绩效、产出和幸福感，同时确保他们负责的产品能够满足业务需求。因为业务需求和个人团队成员的需求并不总是一致的，这通常会使经理处于困境。



## 技术主管（The Tech Lead）

​	一个团队的技术主管(TL)——他经常向该团队的经理汇报——负责产品的技术方面的问题，包括技术决策和选择、体系结构、优先级、速度和通用项目管理(尽管在较大的团队中，他们可能有项目经理在这方面提供帮助)。TL通常会与工程经理携手合作，以确保团队为其产品配备足够的人员，并确保工程师能够完成与其技能体系和技能水平最匹配的任务。大多数顶级技术主管也是个人开发者，这通常迫使他们在自己快速开发或委托团队成员(有时)更慢地开发之间做出选择。后者通常是技术主管的正确决策，因为这会扩大团队的规模和能力。



## 技术主管经理（The Tech Lead Manager）

​	在工程经理需要强大技术能力的小型新生团队中，默认情况下通常会有一个TLM:一个既能处理团队人事需求又能处理团队技术需求的人。有时，TLM是一个更资深的人，但更多时候，这个角色是由一个未脱离技术太久的人担任的。

​	在谷歌，更大、更成熟的团队通常有一对领导者——一个TL和一个工程经理——作为合作伙伴一起工作。理论是，要同时做好这两项工作而不消耗全部精力真的很难，所以最好有两个专家专注地做好每个角色。

​	TLM的工作很棘手，经常需要TLM学会如何平衡个人工作、授权和人员管理。因此，它通常需要来自更有经验的TLM的高度指导和帮助。(事实上，我们建议，除了参加谷歌就这一主题提供的一些课程之外，新上任的TLM还应该寻找一位资深导师，在他们成长过程中定期为他们提供建议。



## 案例研究:不是来源于权力的影响

​	人们普遍认为，你可以让向你汇报的人来做你产品需要的工作，但当你需要让组织以外的人或者甚至是你产品领域以外的人去做你认为需要做的事情时，情况就不同了。这种“不是来源于权力的影响”是你能培养的最强大的领导特质之一。

​	例如，多年来，高级工程研究员杰夫·迪恩(Jeff  Dean)可能是谷歌内部最著名的员工，他只领导了谷歌工程团队的一小部分，但他对技术决策和方向的影响遍及整个技术团队的末端和更远的地方(这要归功于他在公司内部的写作和演讲)。

​	另一个例子是我成立的一个名为“数据解放阵线”的团队:在不到六名工程师的团队的帮助下，我们成功地让50多种谷歌产品通过我们推出的名为“Google Takeout”的产品导出他们的数据。当时，谷歌管理层没有正式要求所有产品都要成为“Google Takeout”的一部分，那么我们是如何让数百名工程师对这一项目做出贡献的呢？通过确定公司的战略需求，展示它如何与公司的使命和现在的优先目标相联系，并与一小组工程师合作开发一种工具，使团队能够快速轻松地与“Google Takeout”整合。



## 从个人开发者转变为领导者

​	不管是否被正式任命，如果你的产品要完成某种目标，就需要有人担任领导者。如果你是积极、不耐烦的类型的人，那个领导者可能就是你。你可能会发现自己忙于帮助团队解决冲突，做出决策，协调人事。这种情况经常发生，而且经常是出于意外的。也许你从未想过成为"leader",但不管怎样，这种情况还是发生了。有些人把这种苦恼称为“管理主义”。

​	即使你向自己发誓永远不会成为经理，在你职业生涯的某个时候，你可能会发现自己处于领导地位，尤其是如果你在自己的岗位上取得了成功。本章的其余部分旨在帮助您理解发生这种情况时该怎么办。

​	我们在这里不是试图说服你成为一名经理，而是向你展示为什么最好的领导者会使用谦逊、尊重和信任的原则来为他们的团队服务。理解领导工作的来龙去脉是影响你工作方向的一项重要技能。如果你想为你的项目掌舵，而不仅仅是顺其自然，你需要知道如何领导方向，否则你会让自己(和你的项目)陷入困境。



## 每件事都令人害怕

​	除了大多数人听到“经理”这个词时普遍感到的不适之外，还有很多原因让大多数人不想成为经理。你在软件开发领域听到的最大原因是你花在编写代码上的时间少得多。无论你是成为一名TL还是一名工程经理，这都是真的，我将在本章的后面更多地谈论这一点，但是首先，让我们讨论一些大多数人避免成为经理的普遍原因。

​	如果你职业生涯的大部分时间都在写代码，你通常会在一天结束的时候产出一些东西——不管是代码、设计文档还是你刚刚修复的一堆bug，然后说:“这就是我今天做的工作。”但在忙碌的一天“管理工作”结束时，你通常会发现自己在想，“我今天什么也没做。“这相当于花了几年时间每天数你摘多少苹果，然后换了一份种植香蕉的工作，结果却在每天工作结束时对自己说:“我没有摘任何苹果”，忽略了在你旁边的茂盛的香蕉树。量化管理工作比计算你生产的代码量困难，但是让你的团队快乐和高效是衡量你工作成效的一个重要标准。种植香蕉时，不要陷入数苹果的困境。

​	没有成为经理的另一个重要原因通常是不被人讨论的，但根源在于著名的“Peter原则”,它说“在一个等级制度中，每个员工往往会上升到不属于他能力范围的位置。“谷歌通常会要求员工在晋升之前的一段时间内处理超过他们当前能力水平的工作来避免这种情况。

​	大多数人都有过这样的经理，他不能胜任自己的工作，或者不善于管理人，我们知道有些人只曾为糟糕的管理者工作。如果你整个职业生涯只接触过蹩脚的经理，你为什么会想成为一名经理？为什么你想被提升到一个你觉得自己做不到的角色？

​	然而，我们有很充足的理由考虑成为一名TL或经理。首先，这是一种自我提升的方式。即使你很擅长写代码，你能写的代码量还是有上限的。想象一下，在你的领导下，一个优秀的工程师团队可以编写多少代码。其次，你可能真的很擅长领导工作——许多开始担任领导工作的人发现，他们非常擅长提供团队或公司所需的指导、帮助。总得有人来领导团队，那为什么不是你呢？



## 服务型领导力

​	似乎有一种疾病侵袭着现任的经理们，使他们忘记了曾经他们的经理们做的所有可怕的事情，并使他们突然开始做同样的事情来“管理”向他们汇报的人。这种疾病的症状包括，但绝不仅限于，微观管理，忽视表现不佳的人，以及雇佣支持他们的人。如果不及时解决这种问题，这类疾病会杀死整个团队。当我第一次成为谷歌经理时，我收到的最好的建议来自史蒂夫·温特，他当时是一名工程总监。他说，“对于经理而言最重要的是，抵制权力带来的冲动。新任经理最大的渴望之一就是积极地“管理”他们的员工，因为这是经理的职责。而这通常会带来灾难性的后果。

​	治疗“管理”疾病的方法是自由运用“服务型领导力”。作为领导者，你能做的最重要的事情是为你的团队服务，就像管家或总监关心家庭的健康和幸福一样。作为一名服务型领导者，你应该努力营造一种谦逊、尊重和信任的氛围。这可能意味着消除团队成员自己无法消除的官僚障碍，帮助团队达成共识，甚至当团队成员在办公室工作到很晚时为他们购买晚餐。服务型领导力填补团队关系的裂缝，为团队铺平道路，并在必要时向他们提出建议，但仍然不怕弄脏他们的手。一个服务型领导唯一做的管理工作是管理团队的技术生态和社交关系的健康。



## 工程经理

​	那么，现代软件公司对经理的实际期望是什么呢？在计算机时代之前，“管理”和“劳动”可能会扮演几乎对立的角色，经理掌握着所有的权力和劳动力。他们需要员工的集体行动来实现自己的目的。但这不是现代软件公司的工作方式。



## 经理是一个四个字母的单词

​	在谈论谷歌一名工程经理的核心职责之前，让我们回顾一下经理的历史。当今经理的概念在一定程度上是一种延续，它首先来自军事等级制度，后来被一百多年前的工业革命所采用。工厂开始到处涌现，他们需要(通常是非熟练的)工人来维持机器运转。因此，这些工人需要主管来管理他们，因为很容易用其他需要工作的人来代替这些工人，经理们几乎没有理由善待他们的员工或为他们改善条件。不管是否人道，这种方法在员工除了死记硬背之外无事可做的许多年里都很有效。

​	经理们对待员工的方式通常与车夫对待骡子的方式相同:他们轮流用胡萝卜引导着骡子往前走，以此来激励他们，如果这样不行，就用棍子打他们。这种软硬兼施的管理方法在从工厂到现代办公室的转变中幸存了下来。在20世纪中期，当时的员工需要在同一个工作岗位上工作多年，“强硬的经理就像骡子司机”的刻板印象十分流行。

​	这种情况在一些行业一直持续到今天，甚至在需要创造性思维和解决问题的行业也是如此，尽管大量研究表明，不合时宜的胡萝卜加大棒是无效的，对创造性人才的生产力有害。尽管过去几年的装配线工人可以在几天内接受培训并随意更换，但在大型代码库中工作的软件工程师可能需要几个月才能跟上新团队的速度。与可替换的装配线工人不同，这些人需要培养、时间和空间来思考和创造。



## 如今的工程经理

​	大多数人仍然使用“经理”这个称呼，尽管这通常是一个错误的说法。“经理”这种称呼本身经常鼓励新经理管理员工的报告。管理者最终会表现得像父母一样，因此员工的反应就像孩子一样。在谦逊、尊重和信任的背景下阐述这一点:如果经理明确表示他们信任他们的员工，员工会感到积极的推动力来实现这种信任。就这么简单。一个好的经理为团队铺平道路，关注他们的安全和幸福，同时确保他们的需求得到满足。如果你记得本章中的一件事，那就是:

​	*传统的管理者担心如何完成事情，而伟大的管理者则担心完成什么事情(并且相信他们的团队能够弄清楚如何去做完成。*

​	几年前，一位新工程师Jerry加入了我的团队。杰里的上一任经理(在一家不同的公司)坚信员工应该每天从9:00到5:00坐在他的办公桌前，并认为如果他不在那里，他的工作量就不够(当然，这是一个荒谬的假设)。他和我一起工作的第一天，杰瑞在下午4:40来到我面前，结结巴巴地道歉说，他必须提前15分钟离开，因为他有一个约会，他无法重新安排时间。我看着他，笑了笑，直截了当地告诉他，“听着，只要你把工作做完，我不在乎你什么时候离开办公室。”Jerry茫然地盯着我看了几秒钟，点点头，继续赶路。我像对待成年人一样对待Jerry；他总是完成他的工作，我从来不担心他是否在他的办公桌前，因为他不需要保姆来完成他的工作。如果你的员工对他们的工作如此不感兴趣，以至于他们实际上需要传统经理式的保姆来说服他们去工作，这就是你的真正问题。



## 失败是一种选择

​	另一个促进你团队发展的方法是让他们感到安全和有保障，这样他们就可以通过建立心理保障来承担更大的风险——这意味着你的团队成员觉得他们可以做自己，而不用担心你或团队成员的负面影响。风险是一件令人着迷的事情；大多数人都不擅长评估风险，大多数公司都不惜一切代价避免风险。因此，通常的做法是保守地工作，专注于较小的成功，即使冒更大的风险可能意味着指数级的更大成功。谷歌的一句俗语是，如果你试图实现一个不可能的目标，你很有可能会失败，但是如果你在实现不可能的目标的过程中失败，你有很大的可能取得超过你原本能力范围之外的成果。建立一种接受风险的文化的好方法是让你的团队知道失败是可以接受的。

​	所以，让我们先不去考虑“失败是可以接受的”这一点。事实上，我们喜欢把失败看作是一种快速学习的方式(前提是你不会在同一件事情上重复失败)。此外，重要的是将失败视为学习的机会，而不是指责。快速的失败是好事，因为没有太多影响。过程漫长的失败也能给人一个有价值的教训，但更痛苦的是，承受的风险越多，损失的可能也越多(通常是工作时间)。影响客户的失败可能是我们遇到的最不理想的失败，但也是我们可以从失败中学习最多的方式。如前所述，每次谷歌出现重大生产故障，我们都会进行事后检查。这个流程是记录导致实际故障的原因并制定一系列步骤以防止其在未来发生的一种方式。这既不是指责某人的机会，也不是要引入不必要的官僚制衡；相反，我们的目标是强烈关注问题的核心，并一劳永逸地解决它。这很难实现，但是相当有效。

​	个人的成功和失败有些不同。称赞个人的成功是一回事，但在失败的情况下寻找某个人的问题是一种危险的方式导致分裂团队并会阻碍承担风险的精神。失败是可以的，但是要把失败归因于团队，并从失败中学习。如果某个人成功了，在团队面前表扬他们。如果某个人失败了，私下里给予建设性的批评。无论如何，利用这个机会，用谦逊、尊重和信任来帮助你的团队从失败中吸取教训。



## 反面的行为准则

​	在我们为成功的TL和工程经理讲解一系列“设计模式”之前，我们将回顾一系列如果你想成为一名成功的经理就不应该遵循的行为准则。我们在职业生涯中遇到的一些糟糕的经理身上观察到了这些糟糕的行为准则，在很多情况下，我们自己也会犯这类毛病。