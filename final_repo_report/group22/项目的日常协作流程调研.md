## **1、项目的日常协作流程调研**

项目的日常协作如果能够遵循规范要求，将会大大方便项目的参与和推广。因此，需要对此项目的协作流程进行分析。

##### （1）测试的流程

在日常的开发流程中，涉及开发新功能、分支合并、发布新版本以及发布紧急的修复版本等操作。需要测试的功能有很多，因此要有一套完整的测试流程。

Apache Spark 利用 GitHub Actions 实现持续集成和广泛的自动化。Apache Spark 存储库提供了多个 GitHub 操作工作流，供开发人员在创建拉取请求之前运行。

在 Apache Spark 中创建拉取请求之前，请务必检查测试是否可以通过自己的分支，因为我们的 GitHub Acrions 工作流程会自动为拉取请求/后续提交运行测试，并且每次运行都会增加 Apache Spark 中 GitHub Actions 的有限资源存储库。

Apache Spark 存储库具有一个工作流，能够对自己的分叉存储库中的分支运行相同的测试，该分支不会对 Apache Spark 存储库的资源造成负担。

Apache Spark 存储库提供了一种在 GitHub Actions 中运行基准测试的简单方法。当在拉取请求中更新基准测试结果时，建议使用 GitHub Actions 运行并生成基准测试结果，以便尽可能在相同的环境中运行它们。

##### （2）错误报告的使用

理想情况下，错误报告伴随着提交的代码更改以修复错误。这并不总是可行的，因为发现错误的人可能没有修复它的经验。通过创建 JIRA 但不创建拉取请求可能会报告错误。

但是，错误报告只有在包含足够的信息来理解、隔离和理想地重现错误时才有用。仅仅遇到错误并不意味着应该报告错误；如下，先搜索JIRA，在Spark user/dev邮件列表中搜索查询。无法重现的错误或简单的错误报告可能会被关闭。

如果 bug 报告中有关于 bug 是如何引入的、通过哪个提交的描述，这将非常有帮助，这样contributor可以很容易地了解 bug。它还可以帮助提交者决定在合并拉取请求时应该向后移植 bug 修复多远。修复错误的拉取请求应该将问题缩小到根本原因。

##### （3）提交信息的规范

- 在提交的时候，尽可能使用清晰的文字来描述提交信息。
- 如果有更改，您可以指出解决了问题
  - 设置修复版本，当且仅当分辨率是固定的
  - 将受让人设置为对解决方案做出最大贡献的人，通常是打开解决问题的 PR 的人。
  - 如果有几个人贡献，更愿意分配给更“初级”的非提交者贡献者
- 对于所报告的无法针对 master 重现的问题，请解决为无法重现
  - 修复也是合理的，如果很清楚其他先前的拉取请求解决了它。链接到它。
- 如果问题与另一个问题相同或属于另一个问题，则解决为重复
  - 确保链接到它复制的 JIRA
  - 优先解决活动或讨论较少的问题作为副本
- 如果问题显然已经过时并且适用于自打开以来发生了根本性变化的问题或组件，则将其解决为“**不是问题”**
- 如果问题没有意义 - 不可操作，例如，非 Spark 问题，则解决为**无效**
- 如果这是一个连贯的问题，但有明确的迹象表明没有人支持或没有兴趣对其采取行动，则解决为**Won't Fix**
- 如果只是容器问题而不对应于它们自己的可操作更改，它们通常会被标记为**“完成”**
