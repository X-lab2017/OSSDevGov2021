# <center>开源项目数据分析</center>

## 1.背景

​	   2020年，是不同寻常的一年。受疫情的影响，许多行业的发展受到不同程度的阻碍，但是开源协作却大放异彩，发展的更加迅猛。GitHub作为全球最主要的开源协作平台，其开发者数量达到5600万，去年为4000万，增长了四成；新建repo数量6000万，去年为4400万；新增19亿个Contribution。《财富》50强企业中，有72%使用GitHub。

## 2.数据类分析

### （1）活跃度增长情况

![](C:\Users\zt\Desktop\开源资料\活跃度.jpg)



​		![2015-2020年活跃度](C:\Users\zt\Desktop\开源资料\2015-2020年活跃度.jpg)

​		根据统计的活跃度数据，可以看到GitHub平台的活跃度每年都在稳步增长，其中2019年和2020年增长尤为明显。图二中各参数含义分别为：ic: issue comment, oi: open issue, op: open pull, prc: pull review comment, mp: merge pull, st: star, fo: fork。 

### （2）用户情况![img](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tbWJpei5xcGljLmNuL21tYml6X3BuZy9lUHczWmVHUnJ1d0dMdmxFaHdnandpY1FadE81OTRJRk42dmJHWmRlcmdPbExmbW4zUExDZkp5bGliV09PQU90aWFmc0JaTXBMRTdmWHNTSkZXTGR0d1FKdy82NDA?x-oss-process=image/format,png)

过去的5年里，开发者的占比持续走低，但是他们仍是GitHub的最大群体。教育用户显著增长，从17%上升到23%。总结认为，得益于现有的由教师和学生搭建好的基础，以及他们在专业工作和开源项目上的合作，教育用途的用户占比将进一步提升。而且，教育类的发展给学生未来的软件工程师生涯搭起一座桥梁，并给学生们创造了接触全世界开发者的机会。

[^]: 

![小时统计](C:\Users\zt\Desktop\开源资料\小时统计.jpg)

上面两张图统计了不同时段日志创建的数量，可以反应用户在不同时段的活跃程度。其中第一图反应1-12月份以及每月的周一到周日的活跃度，我们可以看到周末的活跃度有明显的下降，表明更多的用户使用GitHub工作而不仅仅是兴趣。第二张图反应每天24个小时的活跃度，可以发现下午2点到5点活跃度最高，这也符合互联网行业工作习惯。

### (3)项目分析

​		我们选择分析的项目是'996icu/996.ICU'，该项目诞生于2019年3月26日，旨在揭露“996ICU”的互联网公司，抵制互联网公司的996工作制度。这个项目作为2019年全世界活跃度第二，中国活跃度第一的项目，在当时引起广泛讨论。但是在2020年却鲜有人提及，甚至可以说销声匿迹了。这里我们将对该项目从2019年诞生开始到2020年末的数据，并结合可收集到的信息进行分析。

​		下面第一张图是项目2019年和2020年每日活跃度增长的整体情况，可以发现活跃度增长的高峰期在2019年的3月末，4月份活跃度增长逐渐放缓，最终在一个较低的值趋于平稳。第二张图将时间维度聚焦在3月末到4月末，这段时间也是活跃度最高的时间段。结合网上关于‘996icu/996.ICU'的信息，3月末和4月初也是该事件最火爆的时候，一方面该项目由于迅速增长的star数而获得关注，另外一方面，接二连三发生的程序员猝死事件，使得大家对于996工作制积怨已久，反过来促进该项目活跃度的增长。但是4月3日起，国内一些浏览器（如QQ浏览器、微信浏览器、UC浏览器、360浏览器等）将996.icu网站及其项目厂库标记为“危险网站”、“违法网站”，阻止用户访问相关网页，甚至Twitter都一度短暂屏蔽996.icu。可以看到4月3号之后，活跃度的增长明显放缓。总结来说，通过活跃度指标可以反应项目的受欢迎程度和项目的发展趋势。

​		表格中统计该项目star、issue comment、open issue、pull review comment 、merge pull、fork的信息，这里我们选取kubernetes作为对比。可以发现，996.ICU项目在star数和fork上比kubernete多，其中star数与fork数前者分别是后者的10倍多和2倍多，而且其他4项则是kubernete更多，且差距也在5-20倍之间。开始以为这是因为大家对于996.ICU项目更多的只是点个star或者fork一下，并没有提出issue、PR或者进行review和讨论。后来发现是因为issue被滥用发布广告，而被项目发起人关闭。所以在该项目上通过Issue相关的操作来衡量用户活跃度可能存在偏差。总体而言，通过加权值来计算用户活跃度与项目活跃度，不同项目存在‘不公平’现象：1.每个项目的操作行为模式存在差异，例如：996.ICU项目中的极端情况，issue被项目发起者关闭了，这样计算出来的活跃度直接用于排名比较并不合理。2.同样的，每个项目中几个操作的权值恒定为1到5也可能不够合理，因为每个人对于‘活跃度’这个定义的需求也不同。解决方法：1.考虑将项目进行分类，属于同一类的项目之间进行比较，划分标准可以是：个人/企业，代码类/非代码类等。2.通过统计项目中各个操作的比例，按照该比例对各个操作赋予权值。

![image-20210702210347850](C:\Users\zt\AppData\Roaming\Typora\typora-user-images\image-20210702210347850.png)

![image-20210702213841055](C:\Users\zt\AppData\Roaming\Typora\typora-user-images\image-20210702213841055.png)

|         类型          |  star  | issue comment | open issue | pull review comment | merge pull | fork  |
| :-------------------: | :----: | :-----------: | :--------: | :-----------------: | :--------: | :---: |
|    996icu/996.ICU     | 355617 |     27039     |    1864    |         159         |    824     | 27189 |
| kubernetes/kubernetes | 30646  |    473735     |    8480    |        70508        |    9355    | 13477 |

## 3.流程类

### (1)项目的日常协作流程调研

项目集合大家的力量收集了强制996工作制公司的黑名单（blacklist），以及不强制996工作制公司的白名单（whitelist），以及少数可以远程办公的公司名单（remotelist），为广大工作者提供更多的选择。大家公开提出有想法的建议，提升本计划的影响力，并建议增加Anti 996 License的适用范围。比如说，针对视频/文字内容的创作，提供相应的许可证(或者是附加协议)，以便在原作者在使用较为自由的许可证(如CC BY 4.0)对公众进行授权的同时，阻止996公司的内容/视频平台通过这些内容获利。
本项目目的：
一、我们要联合所有被强制加班，过度加班的同志。鼓励他们说出自己的心声。
二、我们要明确自己的诉求，要求合法加班，加班必有补偿，加班要有限制。
三、我们鼓励大家使用法律的武器。建立一个完善的法律援助文档，帮助他们打赢和资本家的官司。

### (2)开发者参与流程调研

一个提案指的是被 996.ICU 项目接受的建议文档。 通常一个提案应该给出一个能促进项目或社区本身发展的建议或解决方案。 请阅读[提案模板](https://github.com/996icu/996.ICU/blob/master/proposal/proposal_template.md)来了解更多细节。

关于提案部分，可以尝试以下事情来助力996.ICU项目的发展：

- 阅读996ICU项目已接受的提案并且尝试提出改进建议。

- 根据提案建议做出自己力所能及的行动。

- 对项目或社区的发展提出自己的想法，并通过PR的形式提交到项目组。

  待项目组审核通过后方可展示。后续也许会加入bot，也许能解决其他工种不会用git的问题。

  

### (3)项目CI/CD的流程调研

### CI 持续集成（Continuous Integration）

现代应用开发的目标是让多位开发人员同时处理同一应用的不同功能。但是，如果企业安排在一天内将所有分支源代码合并在一起，最终可能造成工作繁琐、耗时，而且需要手动完成。这是因为当一位独立工作的开发人员对应用进行更改时，有可能会与其他开发人员同时进行的更改发生冲突。如果每个开发人员都自定义自己的本地集成开发环境（IDE），而不是让团队就一个基于云的 IDE 达成一致，那么就会让问题更加雪上加霜。

持续集成（CI）可以帮助开发人员更加频繁地（有时甚至每天）将代码更改合并到共享分支或“主干”中。一旦开发人员对应用所做的更改被合并，系统就会通过自动构建应用并运行不同级别的自动化测试（通常是单元测试和集成测试）来验证这些更改，确保这些更改没有对应用造成破坏。这意味着测试内容涵盖了从类和函数到构成整个应用的不同模块。如果自动化测试发现新代码和现有代码之间存在冲突，CI 可以更加轻松地快速修复这些错误。

### CD 持续交付（Continuous Delivery）

完成 CI 中构建及单元测试和集成测试的自动化流程后，持续交付可自动将已验证的代码发布到存储库。为了实现高效的持续交付流程，务必要确保 CI 已内置于开发管道。持续交付的目标是拥有一个可随时部署到生产环境的代码库。

在持续交付中，每个阶段（从代码更改的合并，到生产就绪型构建版本的交付）都涉及测试自动化和代码发布自动化。在流程结束时，运维团队可以快速、轻松地将应用部署到生产环境中。

### CD 持续部署（Continuous Deployment）

对于一个成熟的 CI/CD 管道来说，最后的阶段是持续部署。作为持续交付——自动将生产就绪型构建版本发布到代码存储库——的延伸，持续部署可以自动将应用发布到生产环境。由于在生产之前的管道阶段没有手动门控，因此持续部署在很大程度上都得依赖精心设计的测试自动化。

实际上，持续部署意味着开发人员对应用的更改在编写后的几分钟内就能生效（假设它通过了自动化测试）。这更加便于持续接收和整合用户反馈。总而言之，所有这些 CI/CD 的关联步骤都有助于降低应用的部署风险，因此更便于以小件的方式（而非一次性）发布对应用的更改。不过，由于还需要编写自动化测试以适应 CI/CD 管道中的各种测试和发布阶段，因此前期投资还是会很大。
